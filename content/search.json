{
  "entries": [
    <% @items.find_all('/*/*/*.{asciidoc,md}').reject { |item| item[:exclude_from_search] }.each do |item| %>
      <% if item[:title] %>
        <% @clean_body = compress(safe_embed(item.compiled_content)) %>
        {
          "title": "<%= safe_embed(item[:title]) %>",
          "category": "",
          "category_url": "",
          "url": "<%= item[:filename].sub(/^content/, '').sub(/.(asciidoc|md)$/, '/') %>",
          "body": "<%= @clean_body %>",
          "excerpt": "<%= @clean_body[0..140] %>â€¦"
        },
      <% end %>
    <% end %>

    <% latest_atom_version_apis.each do |klass| %>
      <% klass.fetch('instanceMethods', []).each do |instance_method| %>
        <% body = compress(safe_embed(instance_method['description'])) %>
        {
          "title": "<%= klass['name'] %>::<%= instance_method['name'] %>",
          "category": "",
          "category_url": "",
          "url": "/api/v<%= latest_atom_version_number %>/<%= klass['name'] %>/#instance-<%= instance_method['name'] %>",
          "body": "<%= body %>",
          "excerpt": "<%= body[0..140] %>..."
        },
      <% end %>
    <% end %>

    {}
  ]
}
